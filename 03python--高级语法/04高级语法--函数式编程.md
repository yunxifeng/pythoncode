# Python语言的高级特性

## 函数式编程(FunctionalProgramming)
- 基于lambda演算的一种编程方式
  - 程序中只有函数
  - 函数可以作为参数,同样可以作为返回值
  - 纯函数式编程语言:LISP , Haskell
- Python函数式编程只是借鉴函数式编程的一些特点,可以理解为一半函数式一半Python
- 学习内容:
  - 高阶函数
  - 返回函数
  - 匿名函数
  - 装饰器
  - 偏函数

### lambda表达式
- 函数:最大程度复用代码
  - 存在问题:如果函数"很小",则会造成啰嗦
  - 如果函数被调用次数少,则会造成浪费
  - 对于阅读者来说,一见到函数,阅读流程会被迫中断
- lambda表达式(匿名函数):
  - 一个表达式,函数体相对简单
  - 不是一个代码块,仅仅是一个表达式
  - 可以有一或多个参数,也可以没有,参数之间用逗号隔开
- 基本用法:
  - 1.以lambda开头
  - 2.紧跟一定的参数(可以没有)
  - 3.参数后用冒号来和表达式主体隔开
  - 4.只是一个表达式,没有return
### 高阶函数
- 把函数作为参数使用的函数,叫做高阶函数
  - 变量可以给变量赋值
  - 函数名称就是一个变量
  - 函数可以被当做参数传入另一个函数
- 系统高阶函数
  - map:原意就是映射,
      - 即把集合或者列表的元素,每一个元素都按照一定规则进行操作,
      - 生成一个新的集合或者列表
      - map函数是系统提供的具有映射功能的函数,返回值是一个迭代对象
  - reduce:原意是归并,缩减,
         - 把一个可迭代对象最后归并成一个结果,
         - 对于作为参数的函数要求:必须有两个参数,必须返回结果
         - reduce([1,2,3,4,5]) =f(f(f(f(1,2),3),4),5)
         - reduce需要导入functools包
  - filter函数:过滤函数
             - 对一组数据进行过滤,符合条件的数据会生成一个新的列表并返回
             - 与map相比较:
                - 相同:都是对列表的每一个元素逐一进行操作
                - 不同:
                    - map会生成一个跟原来数据相对应的新队列
                    - filter不一定,只有符合条件的才会进入新的数据组合
             - 用法:
                - 利用给定函数进行判断,返回值是布尔值
                - 格式:filter(f, data):f是过滤函数, data是数据
  - sorted函数:排序函数
           - sorted(iterable, /, *, key=None, reverse=False)
           - 把一个序列按照给定算法进行排序  
           - key:在排序前对每一个函数进行key函数运算,可以理解成按照key函数定义的逻辑进行排序
           - 在Python2和Python中,相差较大  
  - 返回函数:函数可以返回具体的值,也可以返回一个函数作为结果
### 闭包(closure)
- 当一个函数在内部定义函数,并且内部的函数应用外部函数的参数或者局部变量,当内部函数被当作返回值的
  的时候,一旦返回,相关参数和变量就已经保存在被返回的函数中了,这种结果叫做闭包
- 闭包有坑,详见案例
- 返回闭包时,返回函数不能引用任何循环变量
### 装饰器(Decorator)
- 在不改动函数代码的基础上无限制扩展函数功能的一种机制,本质上来说,装饰器是一个返回函数的高阶函数
- 使用方法: 使用@语法,即在每次要扩展到函数定义前使用@+函数名,这种方法借助了系统定义的语法糖
- 好处:
    - 一旦定义,则可以装饰任意函数
    - 一旦被装饰,则把装饰器的功能直接添加到定义函数的功能上
### 偏函数
- 参数固定的函数,相当于一个有特定函数的函数体
- 包functools.partial的作用是,把一个函数的某些参数固定下来,返回一个新函数(偏函数)
### 补充几个高级函数
- zip:把两个可迭代内容生成一个可迭代的tuple元素类型组成的内容
  - 注: zip()之后,在遍历一遍之后会释放所有元素,此处可以解答老师课堂上为什么第二次遍历打印出来的结果为空.
- enumerate:
  - 跟zip功能相似
  - 对可迭代对象的每一元素,配上一个索引,然后索引和内容构成tuple类型
- collections模块:
  - namedtuple:tuple类型,可命名,tuple的一个子类
  - deque:解决频繁删除插入操作带来的效率问题
  - defaultdict:当直接读取dict不存在的属性时,直接返回默认值
  - counter:自动统计字符串个数
  