# file
- 长久保存信息的一种数据信息集合
- 常用操作
  - 打开关闭(文件一旦打开,需要关闭操作)
  - 读写内容
  - 查找 
## open函数
- open函数负责打开文件
- 参数:
  - 文件的路径名称(必须有)
  - mode: 表明文件打开方式
     - r: 只读方式
     - w: 写入方式, 会覆盖已有内容
     - x: 创建文件方式打开, 如文件已经存在, 则报错
     - a: append方式, 以追加的方式对文件内容进行写入
     - b: binary方式, 以二进制方式写入
     - t: 文本方式打开
     - +: 可读可写方式打开   
## with语句
- with语句使用的技术是一种称为上下文管理协议的技术(ContextManagementProtocal)
- 自动判断文件的作用域, 自动关闭不再使用的打开的文件句柄
## seek(offset, from)
- 移动文件的读取位置, 也叫读取指针
- from的取值范围
  - 0: 从文件头开始偏移
  - 1: 从文件当前位置进行偏移
  - 2: 从文件末尾开始偏移
- 移动单位是字节(byte)
- 一个汉字由若干个字节构成
- 返回文件只针对当前位置
## tell函数:用来显示文件读写指针的当前位置
- 以字节为单位 
## read:文件读操作
- read是按照字符读取文件内容
- 允许输入参数决定读取几个字符,如果没有指定,则从当前位置读取到结尾
- 否则,从指定位置读取指定个数字符
## write:文件写操作
- write(str):把字符串写入文件
- writeline(str):把字符串按行写入文件
- 区别:
  - write函数参数只能是字符串
  - writeline函数参数可以是字符串,也可以是字符序列

# 持久化-pickle模块
- 序列化(持久化, 落地):把程序运行中的信息保存在磁盘上
- 反序列化:序列化的逆过程
- pickle:python提供的序列化模块(py2中是c pickle)
  - pickle.dump:序列化
  - pickle.load:反序列化
 
# 持久化-shelve
- 持久化工具
- 类似字典,用键值对(key,value)保存数据,存取方式跟字典类似
- open,close:有打开就有关闭
- shelve特性:
  - 不支持多个应用并行写入
     - 为解决这个问题,open的时候可以使用flag = r(对这个文件采用只读方式打开)
  - 写回问题
     - shelve在默认情况下不会记录待持久化对象的任何修改的,
       所以我们在shelve.open()时候需要修改默认参数，
       否则对象的修改不会保存。 
     - 解决方法:将writeback这个flag设置为True,即:writeback=True
       *.db将会将所有从DB中读取到的所有对象存放到一个内存缓存。
       当我们close()打开的*.db的时候，缓存中所有的对象会被重新写入DB
       - 使用writeback以后，*.db在open()的时候会增加额外的内存消耗，
         并且当DB在close()的时候会将缓存中的每一个对象都写入到DB，
         这也会带来额外的等待时间。
  - 关于shelve:[http://www.cnblogs.com/frankzs/p/5949645.html]
  - 使用with管理上下文环境